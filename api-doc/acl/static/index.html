



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for ERMrest web-service codebase in the DERIVA framework.">
      
      
        <link rel="canonical" href="https://informatics-isi-edu.github.io/ermrest/api-doc/acl/static/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.4, mkdocs-material-2.9.2">
    
    
      
        <title>Static Model-Based Policies - ERMrest Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.ba0fd1a6.css">
      
      
    
    
      <script src="../../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#ermrest-access-control" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://informatics-isi-edu.github.io/ermrest/" title="ERMrest Documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                ERMrest Documentation
              </span>
              <span class="md-header-nav__topic">
                Static Model-Based Policies
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    ERMrest Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      User Docs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        User Docs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../user-doc/install-redhat/" title="Installing on Red Hat-derived Linux" class="md-nav__link">
      Installing on Red Hat-derived Linux
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../user-doc/annotation/" title="Model Annotation" class="md-nav__link">
      Model Annotation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../user-doc/tuning/" title="Performance Tuning" class="md-nav__link">
      Performance Tuning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../user-doc/ermrest-registry-purge/" title="ermrest-registry-purge command" class="md-nav__link">
      ermrest-registry-purge command
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../user-doc/ermrest-client-table/" title="System Table `ermrest_client`" class="md-nav__link">
      System Table `ermrest_client`
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../user-doc/history-track/" title="History Tracking for DBAs and Programmers" class="md-nav__link">
      History Tracking for DBAs and Programmers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      ERMrest API and Service Semantics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        ERMrest API and Service Semantics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="Guide to the ERMrest API" class="md-nav__link">
      Guide to the ERMrest API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../rest-catalog/" title="ERMrest Catalog Operations" class="md-nav__link">
      ERMrest Catalog Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      ERMrest Model Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-3-3">
        ERMrest Model Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../model/naming/" title="ERMrest Model Resource Naming" class="md-nav__link">
      ERMrest Model Resource Naming
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../model/rest/" title="ERMrest Model Operations" class="md-nav__link">
      ERMrest Model Operations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4" checked>
    
    <label class="md-nav__link" for="nav-3-4">
      ERMrest Access Control
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="5">
      <label class="md-nav__title" for="nav-3-4">
        ERMrest Access Control
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../concepts/" title="Access Concepts" class="md-nav__link">
      Access Concepts
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Static Model-Based Policies
      </label>
    
    <a href="./" title="Static Model-Based Policies" class="md-nav__link md-nav__link--active">
      Static Model-Based Policies
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#static-acl-technical-reference" title="Static ACL Technical Reference" class="md-nav__link">
    Static ACL Technical Reference
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-static-acl-names" title="Available Static ACL Names" class="md-nav__link">
    Available Static ACL Names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acl-representation" title="ACL Representation" class="md-nav__link">
    ACL Representation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restrictions-on-wildcard-policies" title="Restrictions on Wildcard Policies" class="md-nav__link">
    Restrictions on Wildcard Policies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dynamic/" title="Dynamic Data-Dependent Policies" class="md-nav__link">
      Dynamic Data-Dependent Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5" type="checkbox" id="nav-3-5">
    
    <label class="md-nav__link" for="nav-3-5">
      Client-Specific Rights
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="6">
      <label class="md-nav__title" for="nav-3-5">
        Client-Specific Rights
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../rights/" title="Rights Summaries" class="md-nav__link">
      Rights Summaries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5-2" type="checkbox" id="nav-3-5-2">
    
    <label class="md-nav__link" for="nav-3-5-2">
      ERMrest Data Resources
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="8">
      <label class="md-nav__title" for="nav-3-5-2">
        ERMrest Data Resources
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/naming/" title="ERMrest Data Resources" class="md-nav__link">
      ERMrest Data Resources
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../data/rest/" title="ERMrest Data Operations" class="md-nav__link">
      ERMrest Data Operations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5-3" type="checkbox" id="nav-3-5-3">
    
    <label class="md-nav__link" for="nav-3-5-3">
      ERMrest History Management
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="9">
      <label class="md-nav__title" for="nav-3-5-3">
        ERMrest History Management
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../history/naming/" title="ERMrest History Management Resources" class="md-nav__link">
      ERMrest History Management Resources
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../history/rest/" title="ERMrest History Management Operations" class="md-nav__link">
      ERMrest History Management Operations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#static-acl-technical-reference" title="Static ACL Technical Reference" class="md-nav__link">
    Static ACL Technical Reference
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-static-acl-names" title="Available Static ACL Names" class="md-nav__link">
    Available Static ACL Names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acl-representation" title="ACL Representation" class="md-nav__link">
    ACL Representation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restrictions-on-wildcard-policies" title="Restrictions on Wildcard Policies" class="md-nav__link">
    Restrictions on Wildcard Policies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="ermrest-access-control">ERMrest Access Control<a class="headerlink" href="#ermrest-access-control" title="Permanent link">&para;</a></h1>
<h2 id="static-acl-technical-reference">Static ACL Technical Reference<a class="headerlink" href="#static-acl-technical-reference" title="Permanent link">&para;</a></h2>
<h3 id="available-static-acl-names">Available Static ACL Names<a class="headerlink" href="#available-static-acl-names" title="Permanent link">&para;</a></h3>
<p>Most of the previously described <a href="#access-modes">access modes</a> have a
corresponding static ACL name associated with them. Some model access rights
are not separately controlled and instead require full ownership
rights. This might change in future revisions.</p>
<p>Because more general access mode rights imply lesser access mode
rights and sub-resources inherit ACLs, brevity in policy
configurations can be achieved:
- A small set of owners need not be repeated in other ACLs
- Less privileged roles are mentioned only in their corresponding lesser ACLs
- Sub-resource ACLs can be set to <code>null</code> unless local overrides are needed</p>
<p>Available ACL names and applicability to specific model elements:</p>
<table>
<thead>
<tr>
<th>ACL Name</th>
<th>Catalog</th>
<th>Schema</th>
<th>Table</th>
<th>Column</th>
<th>Reference</th>
</tr>
</thead>
<tbody>
<tr>
<td>owner</td>
<td>all access</td>
<td>all access</td>
<td>all access</td>
<td>N/A <em>note1</em></td>
<td>N/A <em>note1</em></td>
</tr>
<tr>
<td>create</td>
<td>add schema</td>
<td>add table</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>select</td>
<td><em>note2</em></td>
<td><em>note2</em></td>
<td>observe row</td>
<td>observe value</td>
<td>N/A</td>
</tr>
<tr>
<td>insert</td>
<td><em>note2</em></td>
<td><em>note2</em></td>
<td>add row</td>
<td>set value <em>note3</em></td>
<td>set value <em>note3</em></td>
</tr>
<tr>
<td>update</td>
<td><em>note2</em></td>
<td><em>note2</em></td>
<td>change row</td>
<td>set value <em>note3</em></td>
<td>set value <em>note3</em></td>
</tr>
<tr>
<td>write</td>
<td><em>note2</em></td>
<td><em>note2</em></td>
<td>all data access</td>
<td>set value <em>note3</em></td>
<td>set value <em>note3</em></td>
</tr>
<tr>
<td>delete</td>
<td><em>note2</em></td>
<td><em>note2</em></td>
<td>delete row</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>enumerate</td>
<td>introspect</td>
<td>introspect</td>
<td>introspect</td>
<td>introspect</td>
<td>introspect</td>
</tr>
</tbody>
</table>
<p>When a new schema is added to a catalog, or a new table is added to a
schema, the requesting client becomes the owner of the newly added
element.</p>
<p>Notes:
- <code>N/A</code>: The named ACL is not supported on this kind of model element.
- <em>note1</em>: Columns and references are considered part of the table and so cannot have local ownership settings.
- <em>note2</em>: Data access ACLs on catalogs and schemas only serve to set inherited access policies for the tables which are sub-resources within those containers respectively. These only have effect if the table does not have a locally configured policy for the same named ACL, and they grant no special access to the catalog or schema itself.
- <em>note3</em>: The insert/update ACLs on columns and references configure whether values can be supplied during that type of operation on the containing row.</p>
<p>As described previously, some access rights imply other rights:</p>
<table>
<thead>
<tr>
<th>ACL Name</th>
<th>Implies</th>
</tr>
</thead>
<tbody>
<tr>
<td>enumerate</td>
<td></td>
</tr>
<tr>
<td>create</td>
<td>enumerate</td>
</tr>
<tr>
<td>select</td>
<td>enumerate</td>
</tr>
<tr>
<td>insert</td>
<td>enumerate</td>
</tr>
<tr>
<td>update</td>
<td>select, enumerate</td>
</tr>
<tr>
<td>delete</td>
<td>select, enumerate</td>
</tr>
<tr>
<td>write</td>
<td>insert, update, delete, select, enumerate</td>
</tr>
<tr>
<td>owner</td>
<td>create, insert, update, delete, select, enumerate</td>
</tr>
</tbody>
</table>
<p>Ownership is inherited even if a sub-resource specifies a locally
configured owner ACL. The effective owner policy is the disjunction of
inherited owner and local owner policies. Other locally configured ACLs
override their respective inherited ACL and so may grant fewer rights
than would be granted with the inherited policy.</p>
<h3 id="acl-representation">ACL Representation<a class="headerlink" href="#acl-representation" title="Permanent link">&para;</a></h3>
<p>The data-independent ACLs are encoded in an <code>"acls"</code> sub-resource of the
governed resource. This is a hash-map keyed by ACL name. For example,
a schema resource has a canonical representation as in the following
example:</p>
<pre><code>{
  "schema_name": "My Schema",
  "comment": "The purpose of My Schema is...",
  "annotations": ...,
  "tables": ...,
  "acls": {
    "owner": ["some/user/URI"],
    "select": ["*"]
  }
}
</code></pre>
<p>This example has locally configured ACLs for the schema owner and
permits public access to enumerate the schema and select data, but
inherits other ACLs from the enclosing catalog. For brevity, ACL names
with <code>null</code> configuration are omitted from the canonical
representation. Specifying each such ACL name with a literal <code>null</code>
has the same meaning.</p>
<h3 id="restrictions-on-wildcard-policies">Restrictions on Wildcard Policies<a class="headerlink" href="#restrictions-on-wildcard-policies" title="Permanent link">&para;</a></h3>
<p>The wildcard ACL entry <code>"*"</code> matches any client including anonymous
users. For safety, ERMrest will not accept ACLs containing wildcards
for ACLs granting mutation privileges. For existing catalogs which may
have acquired such policies before this safety check was introduced,
anonymous clients will be rejected for mutation requests, even though
the existing ACL has a wildcard.</p>
<p>The wildcard is only permitted for:</p>
<ol>
<li>The <code>"enumerate"</code> ACL name, allowing model elements to be seen.</li>
<li>The <code>"select"</code> ACL name, allowing data to be queried.</li>
<li>The <code>"insert"</code> and <code>"update"</code> ACL names on foreign key constraints.</li>
<li>Unlike other resources, foreign keys have a default ACL value of <code>["*"]</code> rather than <code>null</code>. This idiom is preserved for convenience.</li>
<li>To actually mutate data in the catalog, the client must also have mutation rights on the table row and table columns, so safety is maintained.</li>
</ol>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../concepts/" title="Access Concepts" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Access Concepts
              </span>
            </div>
          </a>
        
        
          <a href="../dynamic/" title="Dynamic Data-Dependent Policies" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Dynamic Data-Dependent Policies
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 <a href="http://github.com/informatics-isi-edu/ermrest">ERMrest Project</a>.
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.a59e2a89.js"></script>
      
      <script>app.initialize({version:"0.17.4",url:{base:"../../.."}})</script>
      
    
    
      
    
  </body>
</html>