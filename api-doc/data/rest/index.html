



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for ERMrest web-service codebase in the DERIVA framework.">
      
      
        <link rel="canonical" href="https://informatics-isi-edu.github.io/ermrest/api-doc/data/rest/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../images/favicon.ico">
      <meta name="generator" content="mkdocs-0.17.4, mkdocs-material-2.9.2">
    
    
      
        <title>ERMrest Data Operations - ERMrest Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.ba0fd1a6.css">
      
      
    
    
      <script src="../../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#ermrest-data-operations" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://informatics-isi-edu.github.io/ermrest/" title="ERMrest Documentation" class="md-header-nav__button md-logo">
          
            <img src="../../../images/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                ERMrest Documentation
              </span>
              <span class="md-header-nav__topic">
                ERMrest Data Operations
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../../../images/logo.png" width="48" height="48">
      
    </span>
    ERMrest Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      User Docs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        User Docs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../user-doc/install-redhat/" title="Installing on Red Hat-derived Linux" class="md-nav__link">
      Installing on Red Hat-derived Linux
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../user-doc/annotation/" title="Model Annotation" class="md-nav__link">
      Model Annotation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../user-doc/tuning/" title="Performance Tuning" class="md-nav__link">
      Performance Tuning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../user-doc/ermrest-registry-purge/" title="ermrest-registry-purge command" class="md-nav__link">
      ermrest-registry-purge command
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../user-doc/ermrest-client-table/" title="System Table `ermrest_client`" class="md-nav__link">
      System Table `ermrest_client`
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../user-doc/history-track/" title="History Tracking for DBAs and Programmers" class="md-nav__link">
      History Tracking for DBAs and Programmers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      ERMrest API and Service Semantics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        ERMrest API and Service Semantics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="Guide to the ERMrest API" class="md-nav__link">
      Guide to the ERMrest API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../rest-catalog/" title="ERMrest Catalog Operations" class="md-nav__link">
      ERMrest Catalog Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      ERMrest Model Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-3-3">
        ERMrest Model Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../model/naming/" title="ERMrest Model Resource Naming" class="md-nav__link">
      ERMrest Model Resource Naming
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../model/rest/" title="ERMrest Model Operations" class="md-nav__link">
      ERMrest Model Operations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      ERMrest Access Control
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="5">
      <label class="md-nav__title" for="nav-3-4">
        ERMrest Access Control
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../acl/concepts/" title="Access Concepts" class="md-nav__link">
      Access Concepts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../acl/static/" title="Static Model-Based Policies" class="md-nav__link">
      Static Model-Based Policies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../acl/dynamic/" title="Dynamic Data-Dependent Policies" class="md-nav__link">
      Dynamic Data-Dependent Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5" type="checkbox" id="nav-3-5" checked>
    
    <label class="md-nav__link" for="nav-3-5">
      Client-Specific Rights
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="6">
      <label class="md-nav__title" for="nav-3-5">
        Client-Specific Rights
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../acl/rights/" title="Rights Summaries" class="md-nav__link">
      Rights Summaries
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5-2" type="checkbox" id="nav-3-5-2" checked>
    
    <label class="md-nav__link" for="nav-3-5-2">
      ERMrest Data Resources
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="8">
      <label class="md-nav__title" for="nav-3-5-2">
        ERMrest Data Resources
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../naming/" title="ERMrest Data Resources" class="md-nav__link">
      ERMrest Data Resources
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        ERMrest Data Operations
      </label>
    
    <a href="./" title="ERMrest Data Operations" class="md-nav__link md-nav__link--active">
      ERMrest Data Operations
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#entity-creation" title="Entity Creation" class="md-nav__link">
    Entity Creation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#entity-creation-with-defaults" title="Entity Creation with Defaults" class="md-nav__link">
    Entity Creation with Defaults
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entity-update" title="Entity Update" class="md-nav__link">
    Entity Update
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entity-retrieval" title="Entity Retrieval" class="md-nav__link">
    Entity Retrieval
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entity-deletion" title="Entity Deletion" class="md-nav__link">
    Entity Deletion
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attribute-retrieval" title="Attribute Retrieval" class="md-nav__link">
    Attribute Retrieval
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attribute-deletion" title="Attribute Deletion" class="md-nav__link">
    Attribute Deletion
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attribute-group-retrieval" title="Attribute Group Retrieval" class="md-nav__link">
    Attribute Group Retrieval
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attribute-group-update" title="Attribute Group Update" class="md-nav__link">
    Attribute Group Update
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attribute-group-update-with-renaming" title="Attribute Group Update with Renaming" class="md-nav__link">
    Attribute Group Update with Renaming
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aggregate-retrieval" title="Aggregate Retrieval" class="md-nav__link">
    Aggregate Retrieval
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5-3" type="checkbox" id="nav-3-5-3">
    
    <label class="md-nav__link" for="nav-3-5-3">
      ERMrest History Management
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="9">
      <label class="md-nav__title" for="nav-3-5-3">
        ERMrest History Management
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../history/naming/" title="ERMrest History Management Resources" class="md-nav__link">
      ERMrest History Management Resources
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../history/rest/" title="ERMrest History Management Operations" class="md-nav__link">
      ERMrest History Management Operations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#entity-creation" title="Entity Creation" class="md-nav__link">
    Entity Creation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#entity-creation-with-defaults" title="Entity Creation with Defaults" class="md-nav__link">
    Entity Creation with Defaults
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entity-update" title="Entity Update" class="md-nav__link">
    Entity Update
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entity-retrieval" title="Entity Retrieval" class="md-nav__link">
    Entity Retrieval
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entity-deletion" title="Entity Deletion" class="md-nav__link">
    Entity Deletion
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attribute-retrieval" title="Attribute Retrieval" class="md-nav__link">
    Attribute Retrieval
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attribute-deletion" title="Attribute Deletion" class="md-nav__link">
    Attribute Deletion
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attribute-group-retrieval" title="Attribute Group Retrieval" class="md-nav__link">
    Attribute Group Retrieval
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#attribute-group-update" title="Attribute Group Update" class="md-nav__link">
    Attribute Group Update
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attribute-group-update-with-renaming" title="Attribute Group Update with Renaming" class="md-nav__link">
    Attribute Group Update with Renaming
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aggregate-retrieval" title="Aggregate Retrieval" class="md-nav__link">
    Aggregate Retrieval
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="ermrest-data-operations">ERMrest Data Operations<a class="headerlink" href="#ermrest-data-operations" title="Permanent link">&para;</a></h1>
<p>The <a href="http://github.com/informatics-isi-edu/ermrest">ERMrest</a> data operations manipulate tabular data structured according to the existing entity-relationship model already configured as schemata resources in the catalog.</p>
<p>In the following examples, we illustrate the use of specific data formats. However, content negotiation allows any of the supported tabular data formats to be used in any request or response involving tabular data.</p>
<h2 id="entity-creation">Entity Creation<a class="headerlink" href="#entity-creation" title="Permanent link">&para;</a></h2>
<p>The POST operation is used to create new entity records in a table, using an <code>entity</code> resource data name of the form:</p>
<ul>
<li><em>service</em> <code>/catalog/</code> <em>cid</em> <code>/entity/</code> <em>table name</em></li>
<li><em>service</em> <code>/catalog/</code> <em>cid</em> <code>/entity/</code> <em>schema name</em> <code>:</code> <em>table name</em></li>
</ul>
<p>In this operation, complex entity paths with filter and linked entity elements are not allowed.  The request input includes all columns of the table, thus supplying full entity records of data:</p>
<pre><code>POST /ermrest/catalog/42/entity/schema_name:table_name HTTP/1.1
Host: www.example.com
Content-Type: text/csv
Accept: text/csv

column1,column2
1,foo
2,foo
3,bar
4,baz
</code></pre>
<p>The input data MUST observe the table definition including column names and types, uniqueness constraints for key columns, and validity of any foreign key references. It is an error for any existing key in the stored table to match any key in the input data, as this would denote the creation of multiple rows with the same keys.</p>
<p>On success, the response is:</p>
<pre><code>HTTP/1.1 200 OK
Content-Type: text/csv

column1,column2
1,foo
2,foo
3,bar
4,baz
</code></pre>
<p>Typical error response codes include:
- 400 Bad Request
- 409 Conflict
- 403 Forbidden
- 401 Unauthorized</p>
<h3 id="entity-creation-with-defaults">Entity Creation with Defaults<a class="headerlink" href="#entity-creation-with-defaults" title="Permanent link">&para;</a></h3>
<p>The POST operation is also used to create new entity records in a table where some values are assigned default values, using an entity resource data name of the form:</p>
<ul>
<li><em>service</em> <code>/catalog/</code> <em>cid</em> <code>/entity/</code> <em>table name</em> <code>?defaults=</code> <em>column name</em></li>
<li><em>service</em> <code>/catalog/</code> <em>cid</em> <code>/entity/</code> <em>schema name</em> <code>:</code> <em>table name</em> <code>?defaults=</code> <em>column name</em> <code>,</code> ...</li>
</ul>
<p>In this operation, complex entity paths with filter and linked entity elements are not allowed.  The request input includes all columns of the table, thus supplying full entity records of data:</p>
<pre><code>POST /ermrest/catalog/42/entity/schema_name:table_name?defaults=column1 HTTP/1.1
Host: www.example.com
Content-Type: text/csv
Accept: text/csv

column1,column2
1,foo
1,bar
1,baz
1,bof
</code></pre>
<p>The input data MUST observe the table definition including column names and types, uniqueness constraints for key columns, and validity of any foreign key references. If multiple columns are to be set to defaults, they are provided as a comma-separated list of column names on the right-hand-side of the <code>accept=...</code> query parameter binding.</p>
<p>All columns should still be present in the input. However, the values for the column (or columns) named in the <code>defaults</code> query parameter will be ignored and server-assigned values generated instead. It is an error for any existing key in the stored table to match any key in the input data, as this would denote the creation of multiple rows with the same keys.</p>
<p>On success, the response is:</p>
<pre><code>HTTP/1.1 200 OK
Content-Type: text/csv

column1,column2
4,foo
5,bar
6,baz
7,bof
</code></pre>
<p>In this example, a presumed <code>serial4</code> type used for <code>column1</code> would lead to a sequence of serial numbers being issued for the default column.</p>
<p>Typical error response codes include:
- 400 Bad Request
- 409 Conflict
- 403 Forbidden
- 401 Unauthorized</p>
<h2 id="entity-update">Entity Update<a class="headerlink" href="#entity-update" title="Permanent link">&para;</a></h2>
<p>The PUT operation is used to update entity records in a table, using an <code>entity</code> resource data name of the form:</p>
<ul>
<li><em>service</em> <code>/catalog/</code> <em>cid</em> <code>/entity/</code> <em>table name</em></li>
<li><em>service</em> <code>/catalog/</code> <em>cid</em> <code>/entity/</code> <em>schema name</em> <code>:</code> <em>table name</em></li>
</ul>
<p>In this operation, complex entity paths with filter and linked entity elements are not allowed.  The request input includes all columns of the table, thus supplying full entity records of data:</p>
<pre><code>PUT /ermrest/catalog/42/entity/schema_name:table_name HTTP/1.1
Host: www.example.com
Content-Type: text/csv
Accept: text/csv

column1,column2
1,foo
2,foo
3,bar
4,baz
</code></pre>
<p>The input data MUST observe the table definition including column names and types, uniqueness constraints for key columns, and validity of any foreign key references. Any input row with keys matching an existing stored row will cause an update of non-key columns to match the input row.  Any input row with keys not matching an existing stored row will cause creation of a new row.</p>
<p>On success, the response is:</p>
<pre><code>HTTP/1.1 200 OK
Content-Type: text/csv

column1,column2
1,foo
2,foo
3,bar
4,baz
</code></pre>
<p>Typical error response codes include:
- 400 Bad Request
- 409 Conflict
- 403 Forbidden
- 401 Unauthorized</p>
<h2 id="entity-retrieval">Entity Retrieval<a class="headerlink" href="#entity-retrieval" title="Permanent link">&para;</a></h2>
<p>The GET operation is used to retrieve entity records, using an <code>entity</code> resource data name of the form:</p>
<ul>
<li><em>service</em> <code>/catalog/</code> <em>cid</em> [ <code>@</code> <em>revision</em> ] <code>/entity/</code> <em>path</em></li>
</ul>
<p>In this operation, complex entity paths with filter and linked entity elements are allowed, for example:</p>
<pre><code>GET /ermrest/catalog/42/entity/table1/column1=value1/table2/column2=value2 HTTP/1.1
Host: www.example.com
Accept: text/csv
</code></pre>
<p>On success, the response is:</p>
<pre><code>HTTP/1.1 200 OK
Content-Type: text/csv

column1,column2
1,foo
2,foo
3,bar
4,baz
</code></pre>
<p>Each result row will correspond to an entity in the entity set denoted by <em>path</em>. This will be a filtered subset of entities from the table instance context of <em>path</em> considering all filtering and joining criteria.</p>
<p>Typical error response codes include:
- 409 Conflict
- 403 Forbidden
- 401 Unauthorized</p>
<h2 id="entity-deletion">Entity Deletion<a class="headerlink" href="#entity-deletion" title="Permanent link">&para;</a></h2>
<p>The DELETE operation is used to delete entity records, using an <code>entity</code> resource data name of the form:</p>
<ul>
<li><em>service</em> <code>/catalog/</code> <em>cid</em> <code>/entity/</code> <em>path</em></li>
</ul>
<p>In this operation, complex entity paths with filter and linked entity elements are allowed.</p>
<pre><code>DELETE /ermrest/catalog/42/entity/table1/column1=value1/table2/column2=value2 HTTP/1.1
Host: www.example.com
</code></pre>
<p>On success, the response is:</p>
<pre><code>HTTP/1.1 204 No Content
</code></pre>
<p>The result of the operation is that each of the entity records denoted by <em>path</em> are deleted from the catalog. This operation only (directly) affects the right-most table instance context of <em>path</em>. Additional joined entity context may be used to filter the set of affected rows, but none of the contextual table instances are targeted by deletion. However, due to constraints configured in the model, it is possible for a deletion to cause side-effects in another table, e.g. deletion of entities with key values causing foreign key references to those entities to also be processed by a cascading delete or update.</p>
<p>Typical error response codes include:
- 409 Conflict
- 403 Forbidden
- 401 Unauthorized</p>
<h2 id="attribute-retrieval">Attribute Retrieval<a class="headerlink" href="#attribute-retrieval" title="Permanent link">&para;</a></h2>
<p>The GET operation is used to retrieve projected attribute records, using an <code>attribute</code> resource data name of the form:</p>
<ul>
<li><em>service</em> <code>/catalog/</code> <em>cid</em> [ <code>@</code> <em>revision</em> ] <code>/attribute/</code> <em>path</em> <code>/</code> <em>projection</em> <code>,</code> ...</li>
</ul>
<p>In this operation, complex entity paths with filter and linked entity elements are allowed and projection can draw values from any entity element of <em>path</em>, for example:</p>
<pre><code>GET /ermrest/catalog/42/attribute/A:=table1/column1=value1/table2/column2=value2/x:=A:column1,y:=column3 HTTP/1.1
Host: www.example.com
Accept: text/csv
</code></pre>
<p>where output column <code>x</code> is drawn from column <code>column1</code> of the <code>table1</code> table instance aliased with <code>A</code>, while output column <code>y</code> is drawn from column <code>column3</code> of the <code>table2</code> table instance context of <em>path</em>.</p>
<p>On success, the response is:</p>
<pre><code>HTTP/1.1 200 OK
Content-Type: text/csv

x,y
1,foo
2,foo
3,bar
4,baz
</code></pre>
<p>Each result row will correspond to an entity in the entity set denoted by <em>path</em> but the result row will be populated with the specified projection values rather than the denoted entity fields. This will be a filtered subset of entities from the table instance context of <em>path</em> considering all filtering and joining criteria.</p>
<p>Typical error response codes include:
- 409 Conflict
- 403 Forbidden
- 401 Unauthorized</p>
<h2 id="attribute-deletion">Attribute Deletion<a class="headerlink" href="#attribute-deletion" title="Permanent link">&para;</a></h2>
<p>The DELETE operation is used to clear attributes to their default value (usually NULL), using an <code>attribute</code> resource data name of the form:</p>
<ul>
<li><em>service</em> <code>/catalog/</code> <em>cid</em> <code>/attribute/</code> <em>path</em> <code>/</code> <em>target</em> <code>,</code> ...</li>
</ul>
<p>In this operation, complex entity paths with filter and linked entity elements are allowed but only attributes from the <em>path</em> entity context can be specified as the target for deletion, rather than the generalized projection possible with retrieval.</p>
<pre><code>DELETE /ermrest/catalog/42/attribute/table1/column1=value1/table2/column2=value2/column3 HTTP/1.1
Host: www.example.com
</code></pre>
<p>On success, the response is:</p>
<pre><code>HTTP/1.1 204 No Content
</code></pre>
<p>The result of the operation is that each of the entity records denoted by <em>path</em> are modified in the catalog, changing their <em>target</em> columns to default value (usually <code>NULL</code> or whatever default value is configured for that column in the model). This operation only (directly) affects the right-most table instance context of <em>path</em>. Additional joined entity context may be used to filter the set of affected rows, but none of the contextual table instances are targeted by deletion. However, due to constraints configured in the model, it is possible for a deletion to cause side-effects in another table, e.g. modification of key values causing foreign key references to those entities to also be processed by a cascading update.</p>
<p>Typical error response codes include:
- 409 Conflict
- 403 Forbidden
- 401 Unauthorized</p>
<h2 id="attribute-group-retrieval">Attribute Group Retrieval<a class="headerlink" href="#attribute-group-retrieval" title="Permanent link">&para;</a></h2>
<p>The GET operation is used to retrieve projected attribute group records, using an <code>attributegroup</code> resource data name of the form:</p>
<ul>
<li><em>service</em> <code>/catalog/</code> <em>cid</em> [ <code>@</code> <em>revision</em> ] <code>/attributegroup/</code> <em>path</em> <code>/</code> <em>group key</em> <code>,</code> ... </li>
<li><em>service</em> <code>/catalog/</code> <em>cid</em> [ <code>@</code> <em>revision</em> ] <code>/attributegroup/</code> <em>path</em> <code>/</code> <em>group key</em> <code>,</code> ... <code>;</code> <em>projection</em> <code>,</code> ...</li>
</ul>
<p>In this operation, complex entity paths with filter and linked entity elements are allowed, for example:</p>
<pre><code>GET /ermrest/catalog/42/attributegroup/A:=table1/column1=value1/table2/column2=value2/y:=column3;x:=A:cnt(column1),z:=A:column1 HTTP/1.1
Host: www.example.com
Accept: text/csv
</code></pre>
<p>On success, the response is:</p>
<pre><code>HTTP/1.1 200 OK
Content-Type: text/csv

y,x,z
foo,2,1
bar,1,3
baz,1,4
</code></pre>
<p>Each result row will correspond to a distinct <em>group key</em> tuple existing in the joined records denoted by <em>path</em> and the result row will be populated with the <em>group key</em> tuple and additional <em>projection</em> values. Unlike the <code>entity</code> and <code>attribute</code> resource spaces which have outputs corresponding to entities in the context of <em>path</em>, the <code>attributegroup</code> resource space changes the semantics of <em>path</em> to denote a permutation set of joined rows based on all the entity-relationship linkages between the elements of <em>path</em>; this permutation set is further sub-setted by any filters in <em>path</em>.</p>
<p>Typical error response codes include:
- 409 Conflict
- 403 Forbidden
- 401 Unauthorized</p>
<h2 id="attribute-group-update">Attribute Group Update<a class="headerlink" href="#attribute-group-update" title="Permanent link">&para;</a></h2>
<p>The PUT operation is used to update attributes in a table, using an <code>attributegroup</code> resource data name of the form:</p>
<ul>
<li><em>service</em> <code>/catalog/</code> <em>cid</em> <code>/attributegroup/</code> <em>path</em> <code>/</code> <em>group key</em> <code>,</code> ... <code>;</code> <em>target</em> <code>,</code> ...</li>
</ul>
<p>In this operation, complex entity paths with filter and linked entity elements are not allowed:</p>
<pre><code>PUT /ermrest/catalog/42/attributegroup/table/column1;column2 HTTP/1.1
Host: www.example.com
Content-Type: text/csv
Accept: text/csv

column1,column2
1,foo
2,foo
3,bar
4,baz
</code></pre>
<p>The input data MUST NOT have more than one row with the same <em>group key</em> tuple of values. Any input row with <em>group key</em> columns matching an existing stored row will cause an update of <em>target</em> columns to match the input row.  Any input row with <em>group key</em> columns not matching an existing stored row will cause an error.</p>
<p>On success, the response contains updated row information:</p>
<pre><code>HTTP/1.1 200 OK
Content-Type: text/csv

column1,column2
1,foo
2,foo
3,bar
4,baz
</code></pre>
<p>TODO: clarify the meaning of this result content.</p>
<p>Typical error response codes include:
- 400 Bad Request
- 409 Conflict
- 403 Forbidden
- 401 Unauthorized</p>
<h3 id="attribute-group-update-with-renaming">Attribute Group Update with Renaming<a class="headerlink" href="#attribute-group-update-with-renaming" title="Permanent link">&para;</a></h3>
<p>As with retrieval of attribute groups, update supports renaming of stored columns within the external representation, so that it is even possible to rewrite the key columns as in this example:</p>
<pre><code>PUT /ermrest/catalog/42/attributegroup/table1/original:=column1;replacement:=column1 HTTP/1.1
Host: www.example.com
Content-Type: text/csv
Accept: text/csv

original,replacement
foo,foo-prime
bar,bar-prime
baz,baz-prime
</code></pre>
<p>Here, the stored rows with <code>column1</code> matching values in <code>original</code> of the input will have <code>column1</code> rewritten to the corresponding value in <code>replacement</code>.</p>
<p>On success, the response is:</p>
<pre><code>HTTP/1.1 200 OK
Content-Type: text/csv

original,replacement
foo,foo-prime
bar,bar-prime
baz,baz-prime
</code></pre>
<h2 id="aggregate-retrieval">Aggregate Retrieval<a class="headerlink" href="#aggregate-retrieval" title="Permanent link">&para;</a></h2>
<p>The GET operation is used to retrieve projected aggregates, using an <code>aggregate</code> resource data name of the form:</p>
<ul>
<li><em>service</em> <code>/catalog/</code> <em>cid</em> [ <code>@</code> <em>revision</em> ] <code>/aggregate/</code> <em>path</em> <code>/</code> <em>projection</em> <code>,</code> ...</li>
</ul>
<p>In this operation, complex entity paths with filter and linked entity elements are allowed, for example:</p>
<pre><code>GET /ermrest/catalog/42/aggregate/A:=table1/column1=value1/table2/column2=value2/y:=cnt_d(column2),x:=A:cnt(column1),z:=A:column1 HTTP/1.1
Host: www.example.com
Accept: text/csv
</code></pre>
<p>On success, the response is:</p>
<pre><code>HTTP/1.1 200 OK
Content-Type: text/csv

y,x,z
3,4,1
</code></pre>
<p>A single result row will summarize the joined records denoted by <em>path</em> and the result row will be populated with <em>projection</em> values. Like the <code>attributegroup</code> resource space, the <code>aggregate</code> resource space changes the semantics of <em>path</em> to denote a permutation set of joined rows based on all the entity-relationship linkages between the elements of <em>path</em>; this permutation set is further sub-setted by any filters in <em>path</em> and then reduced to a single aggregate summary value by <em>projection</em> values using an aggregate function or by choosing an arbitrary example value for <em>projection</em> values referencing a bare column.</p>
<p>Typical error response codes include:
- 409 Conflict
- 403 Forbidden
- 401 Unauthorized</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../naming/" title="ERMrest Data Resources" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                ERMrest Data Resources
              </span>
            </div>
          </a>
        
        
          <a href="../../history/naming/" title="ERMrest History Management Resources" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                ERMrest History Management Resources
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 <a href="http://github.com/informatics-isi-edu/ermrest">ERMrest Project</a>.
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      <div class="md-footer-logo">
        <img src="/images/deriva-h50-simple.png">
      </div>
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.a59e2a89.js"></script>
      
      <script>app.initialize({version:"0.17.4",url:{base:"../../.."}})</script>
      
    
    
      
    
  </body>
</html>